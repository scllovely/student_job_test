<!DOCTYPE html>
{% load static %}
<html>
{% include 'templates/head.html' %}
<head>
    <style>
        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        /* 表头样式 */
        th {
            background-color: #f2f2f2;
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        /* 表格单元格样式 */
        td {
            border: 1px solid #ddd;
            padding: 8px;
        }

        /* 奇偶行颜色区分 */
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        /* 鼠标悬停行样式 */
        tr:hover {
            background-color: #e5f6ff;
        }

        /* 表单样式调整 */
        .fater-form {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
        }

        .fater-form-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .fater-form-item label {
            width: 100px;
            flex-shrink: 0;
            margin-right: 10px;
            text-align: right;
        }

        .fater-form-item input,
        .fater-form-item select {
            flex: 1;
            min-width: 0;
            height: 32px;
            padding: 0 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .fater-form-item input[type="radio"] {
            width: auto;
            margin-right: 5px;
        }

        .fater-form-btns {
            grid-column: 1 / -1;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }

        /* 响应式布局 */
        @media (max-width: 768px) {
            .fater-form {
                grid-template-columns: 1fr;
            }
        }

        /* 必填标记样式 */
        .required {
            color: #ff4d4f;
            margin-left: 4px;
        }

        /* 错误提示样式 */
        .fater-form-item.error input,
        .fater-form-item.error select {
            border-color: #ff4d4f;
        }

        .fater-form-item .error-message {
            color: #ff4d4f;
            font-size: 12px;
            margin-top: 4px;
            margin-left: 110px;
            display: none;
        }

        .fater-form-item.error .error-message {
            display: block;
        }

        /* 日期输入框样式 */
        input[type="date"] {
            height: 32px;
            padding: 0 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            cursor: pointer;
        }

        input[type="date"]:focus {
            border-color: #1890ff;
            outline: none;
        }

    </style>
</head>

<!-- 移动 jQuery 和其他基础库的引入到这里 -->
{% include 'templates/commjs.html' %}
<script src="{% static 'js/layer.js' %}" type="text/javascript"></script>

<div class="fater-layout-header">
    {% include 'templates/nav.html' %}
</div>

<div class="fater-layout-menus">
    {% include 'templates/menus.html' %}
</div>

<div class="fater-layout-body">
    <div class="fater-panel">

        <div class="fater-pannel-body">
            <div class="dashboard-title">
                学生信息
            </div>
            <div class="fater-pannel-body">
                <div class="fater-form-group">
                    <div class="fater-form-inline">
                        <input type="text" name="para1" placeholder="请输入学生账号……"/>
                    </div>
                    <div class="fater-form-inline">
                        <input type="text" name="para2" placeholder="请输入学生姓名……"/>
                    </div>
                    <div class="fater-form-inline">
                        <input type="text" name="para3" placeholder="请输入联系电话……"/>
                    </div>
                    <div class="fater-form-inline">
                        <select name="para4">
                            <option value="">选择所属学院</option>
                            {% for item in colleges %}
                                <option value="{{ item.id }}">{{ item.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="fater-form-inline">
                        <select name="para5">
                            <option value="">选择所学专业</option>
                            {% for item in majors %}
                                <option value="{{ item.id }}">{{ item.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="fater-form-inline">
                        <select name="para6">
                            <option value="">选择班级</option>
                            {% for item in classes %}
                                <option value="{{ item.class_id }}">{{ item.class_name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <button type="button" class="fater-btn fater-btn-form-qry">
                        <span class="fa fa-search"></span>
                    </button>
                    <button event="add" type="button" class="fater-btn fater-btn-primary">
                        <span style="color: #FFFFFF;" class="fa fa-plus"></span>
                    </button>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <div class="fater-pannel-body">
            <div id="tableShow"></div>
        </div>
    </div>


</div>

<div class="addWin fater-model-win fater-model-hidden">
    <div class="fater-model-win-head">
        <span>添加信息</span>
        <span>×</span>
    </div>
    <div class="fater-model-win-body">
        <form name="addForm" class="fater-form">
            <div class="fater-form-item">
                <label>学生学号<span class="required">*</span></label>
                <input type="text" name="id" placeholder="请输入学生学号" required/>
                <div class="error-message">请输入学生学号</div>
            </div>
            <div class="fater-form-item">
                <label>学生账号<span class="required">*</span></label>
                <input type="text" name="userName" placeholder="请输入学生账号" required/>
                <div class="error-message">请输入学生账号</div>
            </div>
            <div class="fater-form-item">
                <label>学生密码<span class="required">*</span></label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="password" name="passWord" placeholder="请输入学生密码" required style="flex: 1;"/>
                    <span class="toggle-password" style="cursor: pointer;">
                            <i class="fa fa-eye"></i>
                        </span>
                </div>
                <div class="error-message">请输入学生密码</div>
            </div>
            <div class="fater-form-item">
                <label>学生姓名<span class="required">*</span></label>
                <input type="text" name="name" placeholder="请输入学生姓名" required/>
                <div class="error-message">请输入学生姓名</div>
            </div>
            <div class="fater-form-item">
                <label>学生性别<span class="required">*</span></label>
                <input type="radio" name="gender" value="男" required/> 男
                <input type="radio" name="gender" value="女" required/> 女
                <div class="error-message">请选择学生性别</div>
            </div>
            <div class="fater-form-item">
                <label>学生年龄<span class="required">*</span></label>
                <input type="text" name="age" placeholder="请输入学生年龄" required/>
                <div class="error-message">请输入学生年龄</div>
            </div>
            <div class="fater-form-item">
                <label>联系电话<span class="required">*</span></label>
                <input type="text" name="phone" placeholder="请输入学生联系电话" required/>
                <div class="error-message">请输入联系电话</div>
            </div>
            <div class="fater-form-item">
                <label>学生籍贯<span class="required">*</span></label>
                <input type="text" name="address" placeholder="请输入学生籍贯" required/>
                <div class="error-message">请输入学生籍贯</div>
            </div>
            <div class="fater-form-item">
                <label>出生日期</label>
                <input type="text" id="birthday" name="birthday"/>
                <div class="error-message">请选择出生日期</div>
            </div>
            <div class="fater-form-item">
                <label>所属学院<span class="required">*</span></label>
                <select name="collegeId" required>
                    <option value="">选择所属学院</option>
                    {% for item in colleges %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所属学院</div>
            </div>
            <div class="fater-form-item">
                <label>所学专业<span class="required">*</span></label>
                <select name="majorId" required>
                    <option value="">选择所学专业</option>
                    {% for item in majors %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所学专业</div>
            </div>
            <div class="fater-form-item">
                <label>所在班级<span class="required">*</span></label>
                <select name="classId" required>
                    <option value="">选择班级</option>
                    {% for item in classes %}
                        <option value="{{ item.class_id }}">{{ item.class_name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所在班级</div>
            </div>
            <div class="fater-form-item">
                <label>毕业年份<span class="required">*</span></label>
                <input type="number" name="graduation_year" placeholder="请输入毕业年份" required/>
                <div class="error-message">请输入毕业年份</div>
            </div>
            <input type="hidden" name="type" value="2"/>
            <input type="hidden" name="status" value="0"/>
            <div class="fater-form-btns">
                <button type="button" id="addFormBtn" class="fater-btn fater-btn-primary">
                    提交
                </button>
                <button type="reset" class="fater-btn fater-btn-normal">
                    取消
                </button>
            </div>
        </form>
    </div>
</div>

<div class="updWin fater-model-win fater-model-hidden">
    <div class="fater-model-win-head">
        <span>修改信息</span>
        <span>×</span>
    </div>
    <div class="fater-model-win-body">
        <form name="updForm" class="fater-form">
            <div class="fater-form-item">
                <label>学生学号<span class="required">*</span></label>
                <input type="text" name="id" placeholder="请输入学生学号" required/>
                <div class="error-message">请输入学生学号</div>
            </div>
            <div class="fater-form-item">
                <label>学生账号<span class="required">*</span></label>
                <input type="text" name="userName" placeholder="请输入学生账号" required/>
                <div class="error-message">请输入学生账号</div>
            </div>
            <div class="fater-form-item">
                <label>学生密码<span class="required">*</span></label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="password" name="passWord" placeholder="请输入学生密码" required style="flex: 1;"/>
                    <span class="toggle-password" style="cursor: pointer;">
                            <i class="fa fa-eye"></i>
                        </span>
                </div>
                <div class="error-message">请输入学生密码</div>
            </div>
            <div class="fater-form-item">
                <label>学生姓名<span class="required">*</span></label>
                <input type="text" name="name" placeholder="请输入学生姓名" required/>
                <div class="error-message">请输入学生姓名</div>
            </div>
            <div class="fater-form-item">
                <label>学生性别<span class="required">*</span></label>
                <input type="radio" name="gender" value="男" required/> 男
                <input type="radio" name="gender" value="女" required/> 女
                <div class="error-message">请选择学生性别</div>
            </div>
            <div class="fater-form-item">
                <label>学生年龄<span class="required">*</span></label>
                <input type="text" name="age" placeholder="请输入学生年龄" required/>
                <div class="error-message">请输入学生年龄</div>
            </div>
            <div class="fater-form-item">
                <label>联系电话<span class="required">*</span></label>
                <input type="text" name="phone" placeholder="请输入学生联系电话" required/>
                <div class="error-message">请输入联系电话</div>
            </div>
            <div class="fater-form-item">
                <label>学生籍贯<span class="required">*</span></label>
                <input type="text" name="address" placeholder="请输入学生籍贯" required/>
                <div class="error-message">请输入学生籍贯</div>
            </div>
            <div class="fater-form-item">
                <label>出生日期<span class="required">*</span></label>
                <input type="text" name="birthday" required/>
                <div class="error-message">请选择出生日期</div>
            </div>
            <div class="fater-form-item">
                <label>所属学院<span class="required">*</span></label>
                <select name="collegeId" required>
                    <option value="">选择所属学院</option>
                    {% for item in colleges %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所属学院</div>
            </div>
            <div class="fater-form-item">
                <label>所学专业<span class="required">*</span></label>
                <select name="majorId" required>
                    <option value="">选择所学专业</option>
                    {% for item in majors %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所学专业</div>
            </div>
            <div class="fater-form-item">
                <label>所在班级<span class="required">*</span></label>
                <select name="class_id" required>
                    <option value="">选择班级</option>
                    {% for item in classes %}
                        <option value="{{ item.class_id }}">{{ item.class_name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message">请选择所在班级</div>
            </div>
            <!-- 修复毕业年份输入框的验证 -->
            <div class="fater-form-item">
                <label>毕业年份<span class="required">*</span></label>
                <input type="number" name="graduation_year" id="graduation_year" placeholder="请输入毕业年份" required/>
                <div class="error-message" id="graduation_year_error">请输入毕业年份</div>
            </div>
            <div class="fater-form-btns">
                <button type="button" id="updFormBtn" class="fater-btn fater-btn-primary">
                    提交
                </button>
                <button type="reset" class="fater-btn fater-btn-normal">
                    取消
                </button>
            </div>
        </form>
    </div>
</div>

<div class="fater-layout-foot">
    {% include 'templates/foot.html' %}
</div>

<script src="{% static 'js/students.js' %}" type="text/javascript"></script>
</body>
</html>